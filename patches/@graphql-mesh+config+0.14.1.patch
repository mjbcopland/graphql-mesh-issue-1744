diff --git a/node_modules/@graphql-mesh/config/index.cjs.js b/node_modules/@graphql-mesh/config/index.cjs.js
index 4f027d8..7596bbd 100644
--- a/node_modules/@graphql-mesh/config/index.cjs.js
+++ b/node_modules/@graphql-mesh/config/index.cjs.js
@@ -39,6 +39,7 @@ const graphqlSubscriptions = require('graphql-subscriptions');
 const events = require('events');
 const codeFileLoader = require('@graphql-tools/code-file-loader');
 const StitchingMerger = _interopDefault(require('@graphql-mesh/merger-stitching'));
+const delegate = require('@graphql-tools/delegate');
 
 async function getPackage(name, type, importFn) {
     const casedName = paramCase.paramCase(name);
@@ -119,11 +120,9 @@ async function resolveAdditionalResolvers(baseDir, additionalResolvers, importFn
                             }, (root, args, context, info) => {
                                 return additionalResolver.filterBy ? eval(additionalResolver.filterBy) : true;
                             }),
-                            resolve: (payload) => {
-                                if (additionalResolver.returnData) {
-                                    return lodash.get(payload, additionalResolver.returnData);
-                                }
-                                return payload;
+                            resolve: (payload, args, context, info) => {
+                                const resolverArgs = { returnData: additionalResolver.returnData };
+                                return resolveReturnData(payload, resolverArgs, context, info);
                             },
                         },
                     },
@@ -145,7 +144,8 @@ async function resolveAdditionalResolvers(baseDir, additionalResolvers, importFn
                                     selectionSet: additionalResolver.resultSelectionSet,
                                     depth: additionalResolver.resultDepth,
                                 });
-                                return additionalResolver.returnData ? lodash.get(result, additionalResolver.returnData) : result;
+                                const resolverArgs = { returnData: additionalResolver.returnData };
+                                return resolveReturnData(result, resolverArgs, context, info);
                             },
                         },
                     },
@@ -155,6 +155,15 @@ async function resolveAdditionalResolvers(baseDir, additionalResolvers, importFn
     }));
     return merge.mergeResolvers(loadedResolvers);
 }
+function resolveReturnData(source, args, context, info) {
+    const result = source instanceof Error || !args.returnData ? source : lodash.get(source, args.returnData);
+    if (!delegate.isExternalObject(source) || delegate.isExternalObject(result))
+        return result;
+    const errors = delegate.getUnpathedErrors(source);
+    const responseKey = utils.getResponseKeyFromInfo(info);
+    const subschema = delegate.getSubschema(source, responseKey);
+    return delegate.resolveExternalValue(result, errors, subschema, context, info);
+}
 async function resolveCache(cacheConfig, importFn) {
     if (cacheConfig) {
         const cacheName = Object.keys(cacheConfig)[0];
diff --git a/node_modules/@graphql-mesh/config/index.cjs.js.map b/node_modules/@graphql-mesh/config/index.cjs.js.map
index 8f5c8da..ac95b42 100644
--- a/node_modules/@graphql-mesh/config/index.cjs.js.map
+++ b/node_modules/@graphql-mesh/config/index.cjs.js.map
@@ -1 +1 @@
-{"version":3,"file":"index.cjs.js","sources":["../../../dist/config/src/utils.js","../../../dist/config/src/index.js"],"sourcesContent":["import { parse } from 'graphql';\nimport { resolve } from 'path';\nimport { printSchemaWithDirectives } from '@graphql-tools/utils';\nimport { paramCase } from 'param-case';\nimport { loadTypedefs } from '@graphql-tools/load';\nimport { GraphQLFileLoader } from '@graphql-tools/graphql-file-loader';\nimport { get, set, kebabCase } from 'lodash';\nimport { stringInterpolator } from '@graphql-mesh/utils';\nimport { mergeResolvers } from '@graphql-tools/merge';\nimport { PubSub, withFilter } from 'graphql-subscriptions';\nimport { EventEmitter } from 'events';\nimport { CodeFileLoader } from '@graphql-tools/code-file-loader';\nimport StitchingMerger from '@graphql-mesh/merger-stitching';\nexport async function getPackage(name, type, importFn) {\n    const casedName = paramCase(name);\n    const casedType = paramCase(type);\n    const possibleNames = [\n        `@graphql-mesh/${casedName}`,\n        `@graphql-mesh/${casedName}-${casedType}`,\n        `@graphql-mesh/${casedType}-${casedName}`,\n        casedName,\n        `${casedName}-${casedType}`,\n        `${casedType}-${casedName}`,\n        casedType,\n    ];\n    if (name.includes('-')) {\n        possibleNames.push(name);\n    }\n    const possibleModules = possibleNames.concat(resolve(process.cwd(), name));\n    for (const moduleName of possibleModules) {\n        try {\n            const exported = await importFn(moduleName);\n            return (exported.default || exported.parser || exported);\n        }\n        catch (err) {\n            if (!err.message.includes(`Cannot find module '${moduleName}'`) &&\n                !err.message.includes(`Could not locate module`)) {\n                throw new Error(`Unable to load ${type} matching ${name}: ${err.message}`);\n            }\n        }\n    }\n    throw new Error(`Unable to find ${type} matching ${name}`);\n}\nexport async function getHandler(name, importFn) {\n    const handlerFn = await getPackage(name.toString(), 'handler', importFn);\n    return handlerFn;\n}\nexport async function resolveAdditionalTypeDefs(baseDir, additionalTypeDefs) {\n    if (additionalTypeDefs) {\n        const sources = await loadTypedefs(additionalTypeDefs, {\n            cwd: baseDir,\n            loaders: [new CodeFileLoader(), new GraphQLFileLoader()],\n        });\n        return sources.map(source => source.document || parse(source.rawSDL || printSchemaWithDirectives(source.schema)));\n    }\n    return undefined;\n}\nexport async function resolveAdditionalResolvers(baseDir, additionalResolvers, importFn, pubsub) {\n    const loadedResolvers = await Promise.all((additionalResolvers || []).map(async (additionalResolver) => {\n        if (typeof additionalResolver === 'string') {\n            const filePath = additionalResolver;\n            const exported = await importFn(resolve(baseDir, filePath));\n            let resolvers = null;\n            if (exported.default) {\n                if (exported.default.resolvers) {\n                    resolvers = exported.default.resolvers;\n                }\n                else if (typeof exported.default === 'object') {\n                    resolvers = exported.default;\n                }\n            }\n            else if (exported.resolvers) {\n                resolvers = exported.resolvers;\n            }\n            if (!resolvers) {\n                console.warn(`Unable to load resolvers from file: ${filePath}`);\n                return {};\n            }\n            return resolvers;\n        }\n        else {\n            if ('pubsubTopic' in additionalResolver) {\n                return {\n                    [additionalResolver.type]: {\n                        [additionalResolver.field]: {\n                            subscribe: withFilter((root, args, context, info) => {\n                                const resolverData = { root, args, context, info };\n                                const topic = stringInterpolator.parse(additionalResolver.pubsubTopic, resolverData);\n                                return pubsub.asyncIterator(topic);\n                            }, (root, args, context, info) => {\n                                return additionalResolver.filterBy ? eval(additionalResolver.filterBy) : true;\n                            }),\n                            resolve: (payload) => {\n                                if (additionalResolver.returnData) {\n                                    return get(payload, additionalResolver.returnData);\n                                }\n                                return payload;\n                            },\n                        },\n                    },\n                };\n            }\n            else {\n                return {\n                    [additionalResolver.type]: {\n                        [additionalResolver.field]: {\n                            selectionSet: additionalResolver.requiredSelectionSet,\n                            resolve: async (root, args, context, info) => {\n                                const resolverData = { root, args, context, info };\n                                const methodArgs = {};\n                                for (const argPath in additionalResolver.args) {\n                                    set(methodArgs, argPath, stringInterpolator.parse(additionalResolver.args[argPath], resolverData));\n                                }\n                                const result = await context[additionalResolver.targetSource].api[additionalResolver.targetMethod](methodArgs, {\n                                    selectedFields: additionalResolver.resultSelectedFields,\n                                    selectionSet: additionalResolver.resultSelectionSet,\n                                    depth: additionalResolver.resultDepth,\n                                });\n                                return additionalResolver.returnData ? get(result, additionalResolver.returnData) : result;\n                            },\n                        },\n                    },\n                };\n            }\n        }\n    }));\n    return mergeResolvers(loadedResolvers);\n}\nexport async function resolveCache(cacheConfig, importFn) {\n    if (cacheConfig) {\n        const cacheName = Object.keys(cacheConfig)[0];\n        const config = cacheConfig[cacheName];\n        const moduleName = kebabCase(cacheName.toString());\n        const pkg = await getPackage(moduleName, 'cache', importFn);\n        const Cache = pkg.default || pkg;\n        return new Cache(config);\n    }\n    const InMemoryLRUCache = await import('@graphql-mesh/cache-inmemory-lru').then(m => m.default);\n    const cache = new InMemoryLRUCache();\n    return cache;\n}\nexport async function resolvePubSub(pubsubYamlConfig, importFn) {\n    if (pubsubYamlConfig) {\n        let pubsubName;\n        let pubsubConfig;\n        if (typeof pubsubYamlConfig === 'string') {\n            pubsubName = pubsubYamlConfig;\n        }\n        else {\n            pubsubName = pubsubYamlConfig.name;\n            pubsubConfig = pubsubYamlConfig.config;\n        }\n        const moduleName = kebabCase(pubsubName.toString());\n        const pkg = await getPackage(moduleName, 'pubsub', importFn);\n        const PubSub = pkg.default || pkg;\n        return new PubSub(pubsubConfig);\n    }\n    else {\n        const eventEmitter = new EventEmitter({ captureRejections: true });\n        eventEmitter.setMaxListeners(Infinity);\n        const pubsub = new PubSub({ eventEmitter });\n        return pubsub;\n    }\n}\nexport async function resolveMerger(mergerConfig, importFn) {\n    if (mergerConfig) {\n        const pkg = await getPackage(mergerConfig, 'merger', importFn);\n        return pkg.default || pkg;\n    }\n    return StitchingMerger;\n}\n//# sourceMappingURL=utils.js.map","import { isAbsolute, join } from 'path';\nimport { getJsonSchema, } from '@graphql-mesh/types';\nimport Ajv from 'ajv';\nimport { cosmiconfig, defaultLoaders } from 'cosmiconfig';\nimport { getHandler, getPackage, resolveAdditionalResolvers, resolveAdditionalTypeDefs, resolveCache, resolveMerger, resolvePubSub, } from './utils';\n// TODO: deprecate this in next major release as dscussed in #1687\nexport async function parseConfig(rawConfig, options) {\n    let config;\n    const { configFormat = 'object', dir: configDir = '' } = options || {};\n    const dir = isAbsolute(configDir) ? configDir : join(process.cwd(), configDir);\n    switch (configFormat) {\n        case 'yaml':\n            config = defaultLoaders['.yaml']('.meshrc.yml', rawConfig);\n            break;\n        case 'json':\n            config = defaultLoaders['.json']('.meshrc.json', rawConfig);\n            break;\n        case 'object':\n            config = rawConfig;\n            break;\n    }\n    return processConfig(config, { ...options, dir });\n}\nexport async function processConfig(config, options) {\n    var _a, _b;\n    const { dir, ignoreAdditionalResolvers = false, importFn = (moduleId) => import(moduleId) } = options || {};\n    await Promise.all(((_a = config.require) === null || _a === void 0 ? void 0 : _a.map(mod => importFn(mod))) || []);\n    const cache = await resolveCache(config.cache, importFn);\n    const pubsub = await resolvePubSub(config.pubsub, importFn);\n    const [sources, transforms, additionalTypeDefs, additionalResolvers, merger] = await Promise.all([\n        Promise.all(config.sources.map(async (source) => {\n            const handlerName = Object.keys(source.handler)[0];\n            const handlerConfig = source.handler[handlerName];\n            const [handlerLibrary, transforms] = await Promise.all([\n                getHandler(handlerName, importFn),\n                Promise.all((source.transforms || []).map(async (t) => {\n                    const transformName = Object.keys(t)[0];\n                    const transformConfig = t[transformName];\n                    const TransformCtor = await getPackage(transformName.toString(), 'transform', importFn);\n                    return new TransformCtor({\n                        apiName: source.name,\n                        config: transformConfig,\n                        baseDir: dir,\n                        cache,\n                        pubsub,\n                    });\n                })),\n            ]);\n            const HandlerCtor = handlerLibrary;\n            return {\n                name: source.name,\n                handler: new HandlerCtor({\n                    name: source.name,\n                    config: handlerConfig,\n                    baseDir: dir,\n                    cache,\n                    pubsub,\n                }),\n                transforms,\n            };\n        })),\n        Promise.all(((_b = config.transforms) === null || _b === void 0 ? void 0 : _b.map(async (t) => {\n            const transformName = Object.keys(t)[0];\n            const transformConfig = t[transformName];\n            const TransformLibrary = await getPackage(transformName.toString(), 'transform', importFn);\n            return new TransformLibrary({\n                apiName: '',\n                config: transformConfig,\n                baseDir: dir,\n                cache,\n                pubsub,\n            });\n        })) || []),\n        resolveAdditionalTypeDefs(dir, config.additionalTypeDefs),\n        resolveAdditionalResolvers(dir, ignoreAdditionalResolvers ? [] : config.additionalResolvers || [], importFn, pubsub),\n        resolveMerger(config.merger, importFn),\n    ]);\n    return {\n        sources,\n        transforms,\n        additionalTypeDefs,\n        additionalResolvers,\n        cache,\n        merger,\n        mergerType: config.merger,\n        pubsub,\n        liveQueryInvalidations: config.liveQueryInvalidations,\n        config,\n    };\n}\nfunction customLoader(ext) {\n    function loader(filepath, content) {\n        if (typeof process !== 'undefined' && 'env' in process) {\n            content = content.replace(/\\$\\{(.*?)\\}/g, (_, variable) => {\n                let varName = variable;\n                let defaultValue = '';\n                if (variable.includes(':')) {\n                    const spl = variable.split(':');\n                    varName = spl.shift();\n                    defaultValue = spl.join(':');\n                }\n                return process.env[varName] || defaultValue;\n            });\n        }\n        if (ext === 'json') {\n            return defaultLoaders['.json'](filepath, content);\n        }\n        if (ext === 'yaml') {\n            return defaultLoaders['.yaml'](filepath, content);\n        }\n        if (ext === 'js') {\n            return defaultLoaders['.js'](filepath, content);\n        }\n    }\n    return loader;\n}\nexport function validateConfig(config) {\n    const ajv = new Ajv({\n        strict: false,\n    });\n    const jsonSchema = getJsonSchema();\n    jsonSchema.$schema = undefined;\n    const isValid = ajv.validate(jsonSchema, config);\n    if (!isValid) {\n        console.warn(`GraphQL Mesh Configuration is not valid:\\n${ajv.errorsText()}`);\n    }\n}\nexport async function findAndParseConfig(options) {\n    const { configName = 'mesh', dir: configDir = '', ignoreAdditionalResolvers = false } = options || {};\n    const dir = isAbsolute(configDir) ? configDir : join(process.cwd(), configDir);\n    const explorer = cosmiconfig(configName, {\n        loaders: {\n            '.json': customLoader('json'),\n            '.yaml': customLoader('yaml'),\n            '.yml': customLoader('yaml'),\n            '.js': customLoader('js'),\n            noExt: customLoader('yaml'),\n        },\n    });\n    const results = await explorer.search(dir);\n    if (!results) {\n        throw new Error(`No mesh config file was found in \"${dir}\"!`);\n    }\n    const config = results.config;\n    validateConfig(config);\n    return processConfig(config, { dir, ignoreAdditionalResolvers });\n}\n//# sourceMappingURL=index.js.map"],"names":["paramCase","resolve","loadTypedefs","CodeFileLoader","GraphQLFileLoader","parse","printSchemaWithDirectives","withFilter","stringInterpolator","get","set","mergeResolvers","kebabCase","EventEmitter","PubSub","isAbsolute","join","defaultLoaders","getJsonSchema","cosmiconfig"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"index.cjs.js","sources":["../../../dist/config/src/utils.js","../../../dist/config/src/index.js"],"sourcesContent":["import { parse } from 'graphql';\nimport { resolve } from 'path';\nimport { getResponseKeyFromInfo, printSchemaWithDirectives } from '@graphql-tools/utils';\nimport { paramCase } from 'param-case';\nimport { loadTypedefs } from '@graphql-tools/load';\nimport { GraphQLFileLoader } from '@graphql-tools/graphql-file-loader';\nimport { get, set, kebabCase } from 'lodash';\nimport { stringInterpolator } from '@graphql-mesh/utils';\nimport { mergeResolvers } from '@graphql-tools/merge';\nimport { PubSub, withFilter } from 'graphql-subscriptions';\nimport { EventEmitter } from 'events';\nimport { CodeFileLoader } from '@graphql-tools/code-file-loader';\nimport StitchingMerger from '@graphql-mesh/merger-stitching';\nimport { getSubschema, getUnpathedErrors, isExternalObject, resolveExternalValue } from '@graphql-tools/delegate';\nexport async function getPackage(name, type, importFn) {\n    const casedName = paramCase(name);\n    const casedType = paramCase(type);\n    const possibleNames = [\n        `@graphql-mesh/${casedName}`,\n        `@graphql-mesh/${casedName}-${casedType}`,\n        `@graphql-mesh/${casedType}-${casedName}`,\n        casedName,\n        `${casedName}-${casedType}`,\n        `${casedType}-${casedName}`,\n        casedType,\n    ];\n    if (name.includes('-')) {\n        possibleNames.push(name);\n    }\n    const possibleModules = possibleNames.concat(resolve(process.cwd(), name));\n    for (const moduleName of possibleModules) {\n        try {\n            const exported = await importFn(moduleName);\n            return (exported.default || exported.parser || exported);\n        }\n        catch (err) {\n            if (!err.message.includes(`Cannot find module '${moduleName}'`) &&\n                !err.message.includes(`Could not locate module`)) {\n                throw new Error(`Unable to load ${type} matching ${name}: ${err.message}`);\n            }\n        }\n    }\n    throw new Error(`Unable to find ${type} matching ${name}`);\n}\nexport async function getHandler(name, importFn) {\n    const handlerFn = await getPackage(name.toString(), 'handler', importFn);\n    return handlerFn;\n}\nexport async function resolveAdditionalTypeDefs(baseDir, additionalTypeDefs) {\n    if (additionalTypeDefs) {\n        const sources = await loadTypedefs(additionalTypeDefs, {\n            cwd: baseDir,\n            loaders: [new CodeFileLoader(), new GraphQLFileLoader()],\n        });\n        return sources.map(source => source.document || parse(source.rawSDL || printSchemaWithDirectives(source.schema)));\n    }\n    return undefined;\n}\nexport async function resolveAdditionalResolvers(baseDir, additionalResolvers, importFn, pubsub) {\n    const loadedResolvers = await Promise.all((additionalResolvers || []).map(async (additionalResolver) => {\n        if (typeof additionalResolver === 'string') {\n            const filePath = additionalResolver;\n            const exported = await importFn(resolve(baseDir, filePath));\n            let resolvers = null;\n            if (exported.default) {\n                if (exported.default.resolvers) {\n                    resolvers = exported.default.resolvers;\n                }\n                else if (typeof exported.default === 'object') {\n                    resolvers = exported.default;\n                }\n            }\n            else if (exported.resolvers) {\n                resolvers = exported.resolvers;\n            }\n            if (!resolvers) {\n                console.warn(`Unable to load resolvers from file: ${filePath}`);\n                return {};\n            }\n            return resolvers;\n        }\n        else {\n            if ('pubsubTopic' in additionalResolver) {\n                return {\n                    [additionalResolver.type]: {\n                        [additionalResolver.field]: {\n                            subscribe: withFilter((root, args, context, info) => {\n                                const resolverData = { root, args, context, info };\n                                const topic = stringInterpolator.parse(additionalResolver.pubsubTopic, resolverData);\n                                return pubsub.asyncIterator(topic);\n                            }, (root, args, context, info) => {\n                                return additionalResolver.filterBy ? eval(additionalResolver.filterBy) : true;\n                            }),\n                            resolve: (payload, args, context, info) => {\n                                const resolverArgs = { returnData: additionalResolver.returnData };\n                                return resolveReturnData(payload, resolverArgs, context, info);\n                            },\n                        },\n                    },\n                };\n            }\n            else {\n                return {\n                    [additionalResolver.type]: {\n                        [additionalResolver.field]: {\n                            selectionSet: additionalResolver.requiredSelectionSet,\n                            resolve: async (root, args, context, info) => {\n                                const resolverData = { root, args, context, info };\n                                const methodArgs = {};\n                                for (const argPath in additionalResolver.args) {\n                                    set(methodArgs, argPath, stringInterpolator.parse(additionalResolver.args[argPath], resolverData));\n                                }\n                                const result = await context[additionalResolver.targetSource].api[additionalResolver.targetMethod](methodArgs, {\n                                    selectedFields: additionalResolver.resultSelectedFields,\n                                    selectionSet: additionalResolver.resultSelectionSet,\n                                    depth: additionalResolver.resultDepth,\n                                });\n                                const resolverArgs = { returnData: additionalResolver.returnData };\n                                return resolveReturnData(result, resolverArgs, context, info);\n                            },\n                        },\n                    },\n                };\n            }\n        }\n    }));\n    return mergeResolvers(loadedResolvers);\n}\nfunction resolveReturnData(source, args, context, info) {\n    const result = source instanceof Error || !args.returnData ? source : get(source, args.returnData);\n    if (!isExternalObject(source) || isExternalObject(result))\n        return result;\n    const errors = getUnpathedErrors(source);\n    const responseKey = getResponseKeyFromInfo(info);\n    const subschema = getSubschema(source, responseKey);\n    return resolveExternalValue(result, errors, subschema, context, info);\n}\nexport async function resolveCache(cacheConfig, importFn) {\n    if (cacheConfig) {\n        const cacheName = Object.keys(cacheConfig)[0];\n        const config = cacheConfig[cacheName];\n        const moduleName = kebabCase(cacheName.toString());\n        const pkg = await getPackage(moduleName, 'cache', importFn);\n        const Cache = pkg.default || pkg;\n        return new Cache(config);\n    }\n    const InMemoryLRUCache = await import('@graphql-mesh/cache-inmemory-lru').then(m => m.default);\n    const cache = new InMemoryLRUCache();\n    return cache;\n}\nexport async function resolvePubSub(pubsubYamlConfig, importFn) {\n    if (pubsubYamlConfig) {\n        let pubsubName;\n        let pubsubConfig;\n        if (typeof pubsubYamlConfig === 'string') {\n            pubsubName = pubsubYamlConfig;\n        }\n        else {\n            pubsubName = pubsubYamlConfig.name;\n            pubsubConfig = pubsubYamlConfig.config;\n        }\n        const moduleName = kebabCase(pubsubName.toString());\n        const pkg = await getPackage(moduleName, 'pubsub', importFn);\n        const PubSub = pkg.default || pkg;\n        return new PubSub(pubsubConfig);\n    }\n    else {\n        const eventEmitter = new EventEmitter({ captureRejections: true });\n        eventEmitter.setMaxListeners(Infinity);\n        const pubsub = new PubSub({ eventEmitter });\n        return pubsub;\n    }\n}\nexport async function resolveMerger(mergerConfig, importFn) {\n    if (mergerConfig) {\n        const pkg = await getPackage(mergerConfig, 'merger', importFn);\n        return pkg.default || pkg;\n    }\n    return StitchingMerger;\n}\n//# sourceMappingURL=utils.js.map","import { isAbsolute, join } from 'path';\nimport { getJsonSchema, } from '@graphql-mesh/types';\nimport Ajv from 'ajv';\nimport { cosmiconfig, defaultLoaders } from 'cosmiconfig';\nimport { getHandler, getPackage, resolveAdditionalResolvers, resolveAdditionalTypeDefs, resolveCache, resolveMerger, resolvePubSub, } from './utils';\n// TODO: deprecate this in next major release as dscussed in #1687\nexport async function parseConfig(rawConfig, options) {\n    let config;\n    const { configFormat = 'object', dir: configDir = '' } = options || {};\n    const dir = isAbsolute(configDir) ? configDir : join(process.cwd(), configDir);\n    switch (configFormat) {\n        case 'yaml':\n            config = defaultLoaders['.yaml']('.meshrc.yml', rawConfig);\n            break;\n        case 'json':\n            config = defaultLoaders['.json']('.meshrc.json', rawConfig);\n            break;\n        case 'object':\n            config = rawConfig;\n            break;\n    }\n    return processConfig(config, { ...options, dir });\n}\nexport async function processConfig(config, options) {\n    var _a, _b;\n    const { dir, ignoreAdditionalResolvers = false, importFn = (moduleId) => import(moduleId) } = options || {};\n    await Promise.all(((_a = config.require) === null || _a === void 0 ? void 0 : _a.map(mod => importFn(mod))) || []);\n    const cache = await resolveCache(config.cache, importFn);\n    const pubsub = await resolvePubSub(config.pubsub, importFn);\n    const [sources, transforms, additionalTypeDefs, additionalResolvers, merger] = await Promise.all([\n        Promise.all(config.sources.map(async (source) => {\n            const handlerName = Object.keys(source.handler)[0];\n            const handlerConfig = source.handler[handlerName];\n            const [handlerLibrary, transforms] = await Promise.all([\n                getHandler(handlerName, importFn),\n                Promise.all((source.transforms || []).map(async (t) => {\n                    const transformName = Object.keys(t)[0];\n                    const transformConfig = t[transformName];\n                    const TransformCtor = await getPackage(transformName.toString(), 'transform', importFn);\n                    return new TransformCtor({\n                        apiName: source.name,\n                        config: transformConfig,\n                        baseDir: dir,\n                        cache,\n                        pubsub,\n                    });\n                })),\n            ]);\n            const HandlerCtor = handlerLibrary;\n            return {\n                name: source.name,\n                handler: new HandlerCtor({\n                    name: source.name,\n                    config: handlerConfig,\n                    baseDir: dir,\n                    cache,\n                    pubsub,\n                }),\n                transforms,\n            };\n        })),\n        Promise.all(((_b = config.transforms) === null || _b === void 0 ? void 0 : _b.map(async (t) => {\n            const transformName = Object.keys(t)[0];\n            const transformConfig = t[transformName];\n            const TransformLibrary = await getPackage(transformName.toString(), 'transform', importFn);\n            return new TransformLibrary({\n                apiName: '',\n                config: transformConfig,\n                baseDir: dir,\n                cache,\n                pubsub,\n            });\n        })) || []),\n        resolveAdditionalTypeDefs(dir, config.additionalTypeDefs),\n        resolveAdditionalResolvers(dir, ignoreAdditionalResolvers ? [] : config.additionalResolvers || [], importFn, pubsub),\n        resolveMerger(config.merger, importFn),\n    ]);\n    return {\n        sources,\n        transforms,\n        additionalTypeDefs,\n        additionalResolvers,\n        cache,\n        merger,\n        mergerType: config.merger,\n        pubsub,\n        liveQueryInvalidations: config.liveQueryInvalidations,\n        config,\n    };\n}\nfunction customLoader(ext) {\n    function loader(filepath, content) {\n        if (typeof process !== 'undefined' && 'env' in process) {\n            content = content.replace(/\\$\\{(.*?)\\}/g, (_, variable) => {\n                let varName = variable;\n                let defaultValue = '';\n                if (variable.includes(':')) {\n                    const spl = variable.split(':');\n                    varName = spl.shift();\n                    defaultValue = spl.join(':');\n                }\n                return process.env[varName] || defaultValue;\n            });\n        }\n        if (ext === 'json') {\n            return defaultLoaders['.json'](filepath, content);\n        }\n        if (ext === 'yaml') {\n            return defaultLoaders['.yaml'](filepath, content);\n        }\n        if (ext === 'js') {\n            return defaultLoaders['.js'](filepath, content);\n        }\n    }\n    return loader;\n}\nexport function validateConfig(config) {\n    const ajv = new Ajv({\n        strict: false,\n    });\n    const jsonSchema = getJsonSchema();\n    jsonSchema.$schema = undefined;\n    const isValid = ajv.validate(jsonSchema, config);\n    if (!isValid) {\n        console.warn(`GraphQL Mesh Configuration is not valid:\\n${ajv.errorsText()}`);\n    }\n}\nexport async function findAndParseConfig(options) {\n    const { configName = 'mesh', dir: configDir = '', ignoreAdditionalResolvers = false } = options || {};\n    const dir = isAbsolute(configDir) ? configDir : join(process.cwd(), configDir);\n    const explorer = cosmiconfig(configName, {\n        loaders: {\n            '.json': customLoader('json'),\n            '.yaml': customLoader('yaml'),\n            '.yml': customLoader('yaml'),\n            '.js': customLoader('js'),\n            noExt: customLoader('yaml'),\n        },\n    });\n    const results = await explorer.search(dir);\n    if (!results) {\n        throw new Error(`No mesh config file was found in \"${dir}\"!`);\n    }\n    const config = results.config;\n    validateConfig(config);\n    return processConfig(config, { dir, ignoreAdditionalResolvers });\n}\n//# sourceMappingURL=index.js.map"],"names":["paramCase","resolve","loadTypedefs","CodeFileLoader","GraphQLFileLoader","parse","printSchemaWithDirectives","withFilter","stringInterpolator","set","mergeResolvers","get","isExternalObject","getUnpathedErrors","getResponseKeyFromInfo","getSubschema","resolveExternalValue","kebabCase","EventEmitter","PubSub","isAbsolute","join","defaultLoaders","getJsonSchema","cosmiconfig"],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@graphql-mesh/config/index.esm.js b/node_modules/@graphql-mesh/config/index.esm.js
index 81803c5..c155f13 100644
--- a/node_modules/@graphql-mesh/config/index.esm.js
+++ b/node_modules/@graphql-mesh/config/index.esm.js
@@ -3,17 +3,18 @@ import { getJsonSchema } from '@graphql-mesh/types';
 import Ajv from 'ajv';
 import { defaultLoaders, cosmiconfig } from 'cosmiconfig';
 import { parse } from 'graphql';
-import { printSchemaWithDirectives } from '@graphql-tools/utils';
+import { printSchemaWithDirectives, getResponseKeyFromInfo } from '@graphql-tools/utils';
 import { paramCase } from 'param-case';
 import { loadTypedefs } from '@graphql-tools/load';
 import { GraphQLFileLoader } from '@graphql-tools/graphql-file-loader';
-import { get, set, kebabCase } from 'lodash';
+import { set, get, kebabCase } from 'lodash';
 import { stringInterpolator } from '@graphql-mesh/utils';
 import { mergeResolvers } from '@graphql-tools/merge';
 import { withFilter, PubSub } from 'graphql-subscriptions';
 import { EventEmitter } from 'events';
 import { CodeFileLoader } from '@graphql-tools/code-file-loader';
 import StitchingMerger from '@graphql-mesh/merger-stitching';
+import { isExternalObject, getUnpathedErrors, getSubschema, resolveExternalValue } from '@graphql-tools/delegate';
 
 async function getPackage(name, type, importFn) {
     const casedName = paramCase(name);
@@ -94,11 +95,9 @@ async function resolveAdditionalResolvers(baseDir, additionalResolvers, importFn
                             }, (root, args, context, info) => {
                                 return additionalResolver.filterBy ? eval(additionalResolver.filterBy) : true;
                             }),
-                            resolve: (payload) => {
-                                if (additionalResolver.returnData) {
-                                    return get(payload, additionalResolver.returnData);
-                                }
-                                return payload;
+                            resolve: (payload, args, context, info) => {
+                                const resolverArgs = { returnData: additionalResolver.returnData };
+                                return resolveReturnData(payload, resolverArgs, context, info);
                             },
                         },
                     },
@@ -120,7 +119,8 @@ async function resolveAdditionalResolvers(baseDir, additionalResolvers, importFn
                                     selectionSet: additionalResolver.resultSelectionSet,
                                     depth: additionalResolver.resultDepth,
                                 });
-                                return additionalResolver.returnData ? get(result, additionalResolver.returnData) : result;
+                                const resolverArgs = { returnData: additionalResolver.returnData };
+                                return resolveReturnData(result, resolverArgs, context, info);
                             },
                         },
                     },
@@ -130,6 +130,15 @@ async function resolveAdditionalResolvers(baseDir, additionalResolvers, importFn
     }));
     return mergeResolvers(loadedResolvers);
 }
+function resolveReturnData(source, args, context, info) {
+    const result = source instanceof Error || !args.returnData ? source : get(source, args.returnData);
+    if (!isExternalObject(source) || isExternalObject(result))
+        return result;
+    const errors = getUnpathedErrors(source);
+    const responseKey = getResponseKeyFromInfo(info);
+    const subschema = getSubschema(source, responseKey);
+    return resolveExternalValue(result, errors, subschema, context, info);
+}
 async function resolveCache(cacheConfig, importFn) {
     if (cacheConfig) {
         const cacheName = Object.keys(cacheConfig)[0];
diff --git a/node_modules/@graphql-mesh/config/index.esm.js.map b/node_modules/@graphql-mesh/config/index.esm.js.map
index 31481d4..166fd39 100644
--- a/node_modules/@graphql-mesh/config/index.esm.js.map
+++ b/node_modules/@graphql-mesh/config/index.esm.js.map
@@ -1 +1 @@
-{"version":3,"file":"index.esm.js","sources":["../../../dist/config/src/utils.js","../../../dist/config/src/index.js"],"sourcesContent":["import { parse } from 'graphql';\nimport { resolve } from 'path';\nimport { printSchemaWithDirectives } from '@graphql-tools/utils';\nimport { paramCase } from 'param-case';\nimport { loadTypedefs } from '@graphql-tools/load';\nimport { GraphQLFileLoader } from '@graphql-tools/graphql-file-loader';\nimport { get, set, kebabCase } from 'lodash';\nimport { stringInterpolator } from '@graphql-mesh/utils';\nimport { mergeResolvers } from '@graphql-tools/merge';\nimport { PubSub, withFilter } from 'graphql-subscriptions';\nimport { EventEmitter } from 'events';\nimport { CodeFileLoader } from '@graphql-tools/code-file-loader';\nimport StitchingMerger from '@graphql-mesh/merger-stitching';\nexport async function getPackage(name, type, importFn) {\n    const casedName = paramCase(name);\n    const casedType = paramCase(type);\n    const possibleNames = [\n        `@graphql-mesh/${casedName}`,\n        `@graphql-mesh/${casedName}-${casedType}`,\n        `@graphql-mesh/${casedType}-${casedName}`,\n        casedName,\n        `${casedName}-${casedType}`,\n        `${casedType}-${casedName}`,\n        casedType,\n    ];\n    if (name.includes('-')) {\n        possibleNames.push(name);\n    }\n    const possibleModules = possibleNames.concat(resolve(process.cwd(), name));\n    for (const moduleName of possibleModules) {\n        try {\n            const exported = await importFn(moduleName);\n            return (exported.default || exported.parser || exported);\n        }\n        catch (err) {\n            if (!err.message.includes(`Cannot find module '${moduleName}'`) &&\n                !err.message.includes(`Could not locate module`)) {\n                throw new Error(`Unable to load ${type} matching ${name}: ${err.message}`);\n            }\n        }\n    }\n    throw new Error(`Unable to find ${type} matching ${name}`);\n}\nexport async function getHandler(name, importFn) {\n    const handlerFn = await getPackage(name.toString(), 'handler', importFn);\n    return handlerFn;\n}\nexport async function resolveAdditionalTypeDefs(baseDir, additionalTypeDefs) {\n    if (additionalTypeDefs) {\n        const sources = await loadTypedefs(additionalTypeDefs, {\n            cwd: baseDir,\n            loaders: [new CodeFileLoader(), new GraphQLFileLoader()],\n        });\n        return sources.map(source => source.document || parse(source.rawSDL || printSchemaWithDirectives(source.schema)));\n    }\n    return undefined;\n}\nexport async function resolveAdditionalResolvers(baseDir, additionalResolvers, importFn, pubsub) {\n    const loadedResolvers = await Promise.all((additionalResolvers || []).map(async (additionalResolver) => {\n        if (typeof additionalResolver === 'string') {\n            const filePath = additionalResolver;\n            const exported = await importFn(resolve(baseDir, filePath));\n            let resolvers = null;\n            if (exported.default) {\n                if (exported.default.resolvers) {\n                    resolvers = exported.default.resolvers;\n                }\n                else if (typeof exported.default === 'object') {\n                    resolvers = exported.default;\n                }\n            }\n            else if (exported.resolvers) {\n                resolvers = exported.resolvers;\n            }\n            if (!resolvers) {\n                console.warn(`Unable to load resolvers from file: ${filePath}`);\n                return {};\n            }\n            return resolvers;\n        }\n        else {\n            if ('pubsubTopic' in additionalResolver) {\n                return {\n                    [additionalResolver.type]: {\n                        [additionalResolver.field]: {\n                            subscribe: withFilter((root, args, context, info) => {\n                                const resolverData = { root, args, context, info };\n                                const topic = stringInterpolator.parse(additionalResolver.pubsubTopic, resolverData);\n                                return pubsub.asyncIterator(topic);\n                            }, (root, args, context, info) => {\n                                return additionalResolver.filterBy ? eval(additionalResolver.filterBy) : true;\n                            }),\n                            resolve: (payload) => {\n                                if (additionalResolver.returnData) {\n                                    return get(payload, additionalResolver.returnData);\n                                }\n                                return payload;\n                            },\n                        },\n                    },\n                };\n            }\n            else {\n                return {\n                    [additionalResolver.type]: {\n                        [additionalResolver.field]: {\n                            selectionSet: additionalResolver.requiredSelectionSet,\n                            resolve: async (root, args, context, info) => {\n                                const resolverData = { root, args, context, info };\n                                const methodArgs = {};\n                                for (const argPath in additionalResolver.args) {\n                                    set(methodArgs, argPath, stringInterpolator.parse(additionalResolver.args[argPath], resolverData));\n                                }\n                                const result = await context[additionalResolver.targetSource].api[additionalResolver.targetMethod](methodArgs, {\n                                    selectedFields: additionalResolver.resultSelectedFields,\n                                    selectionSet: additionalResolver.resultSelectionSet,\n                                    depth: additionalResolver.resultDepth,\n                                });\n                                return additionalResolver.returnData ? get(result, additionalResolver.returnData) : result;\n                            },\n                        },\n                    },\n                };\n            }\n        }\n    }));\n    return mergeResolvers(loadedResolvers);\n}\nexport async function resolveCache(cacheConfig, importFn) {\n    if (cacheConfig) {\n        const cacheName = Object.keys(cacheConfig)[0];\n        const config = cacheConfig[cacheName];\n        const moduleName = kebabCase(cacheName.toString());\n        const pkg = await getPackage(moduleName, 'cache', importFn);\n        const Cache = pkg.default || pkg;\n        return new Cache(config);\n    }\n    const InMemoryLRUCache = await import('@graphql-mesh/cache-inmemory-lru').then(m => m.default);\n    const cache = new InMemoryLRUCache();\n    return cache;\n}\nexport async function resolvePubSub(pubsubYamlConfig, importFn) {\n    if (pubsubYamlConfig) {\n        let pubsubName;\n        let pubsubConfig;\n        if (typeof pubsubYamlConfig === 'string') {\n            pubsubName = pubsubYamlConfig;\n        }\n        else {\n            pubsubName = pubsubYamlConfig.name;\n            pubsubConfig = pubsubYamlConfig.config;\n        }\n        const moduleName = kebabCase(pubsubName.toString());\n        const pkg = await getPackage(moduleName, 'pubsub', importFn);\n        const PubSub = pkg.default || pkg;\n        return new PubSub(pubsubConfig);\n    }\n    else {\n        const eventEmitter = new EventEmitter({ captureRejections: true });\n        eventEmitter.setMaxListeners(Infinity);\n        const pubsub = new PubSub({ eventEmitter });\n        return pubsub;\n    }\n}\nexport async function resolveMerger(mergerConfig, importFn) {\n    if (mergerConfig) {\n        const pkg = await getPackage(mergerConfig, 'merger', importFn);\n        return pkg.default || pkg;\n    }\n    return StitchingMerger;\n}\n//# sourceMappingURL=utils.js.map","import { isAbsolute, join } from 'path';\nimport { getJsonSchema, } from '@graphql-mesh/types';\nimport Ajv from 'ajv';\nimport { cosmiconfig, defaultLoaders } from 'cosmiconfig';\nimport { getHandler, getPackage, resolveAdditionalResolvers, resolveAdditionalTypeDefs, resolveCache, resolveMerger, resolvePubSub, } from './utils';\n// TODO: deprecate this in next major release as dscussed in #1687\nexport async function parseConfig(rawConfig, options) {\n    let config;\n    const { configFormat = 'object', dir: configDir = '' } = options || {};\n    const dir = isAbsolute(configDir) ? configDir : join(process.cwd(), configDir);\n    switch (configFormat) {\n        case 'yaml':\n            config = defaultLoaders['.yaml']('.meshrc.yml', rawConfig);\n            break;\n        case 'json':\n            config = defaultLoaders['.json']('.meshrc.json', rawConfig);\n            break;\n        case 'object':\n            config = rawConfig;\n            break;\n    }\n    return processConfig(config, { ...options, dir });\n}\nexport async function processConfig(config, options) {\n    var _a, _b;\n    const { dir, ignoreAdditionalResolvers = false, importFn = (moduleId) => import(moduleId) } = options || {};\n    await Promise.all(((_a = config.require) === null || _a === void 0 ? void 0 : _a.map(mod => importFn(mod))) || []);\n    const cache = await resolveCache(config.cache, importFn);\n    const pubsub = await resolvePubSub(config.pubsub, importFn);\n    const [sources, transforms, additionalTypeDefs, additionalResolvers, merger] = await Promise.all([\n        Promise.all(config.sources.map(async (source) => {\n            const handlerName = Object.keys(source.handler)[0];\n            const handlerConfig = source.handler[handlerName];\n            const [handlerLibrary, transforms] = await Promise.all([\n                getHandler(handlerName, importFn),\n                Promise.all((source.transforms || []).map(async (t) => {\n                    const transformName = Object.keys(t)[0];\n                    const transformConfig = t[transformName];\n                    const TransformCtor = await getPackage(transformName.toString(), 'transform', importFn);\n                    return new TransformCtor({\n                        apiName: source.name,\n                        config: transformConfig,\n                        baseDir: dir,\n                        cache,\n                        pubsub,\n                    });\n                })),\n            ]);\n            const HandlerCtor = handlerLibrary;\n            return {\n                name: source.name,\n                handler: new HandlerCtor({\n                    name: source.name,\n                    config: handlerConfig,\n                    baseDir: dir,\n                    cache,\n                    pubsub,\n                }),\n                transforms,\n            };\n        })),\n        Promise.all(((_b = config.transforms) === null || _b === void 0 ? void 0 : _b.map(async (t) => {\n            const transformName = Object.keys(t)[0];\n            const transformConfig = t[transformName];\n            const TransformLibrary = await getPackage(transformName.toString(), 'transform', importFn);\n            return new TransformLibrary({\n                apiName: '',\n                config: transformConfig,\n                baseDir: dir,\n                cache,\n                pubsub,\n            });\n        })) || []),\n        resolveAdditionalTypeDefs(dir, config.additionalTypeDefs),\n        resolveAdditionalResolvers(dir, ignoreAdditionalResolvers ? [] : config.additionalResolvers || [], importFn, pubsub),\n        resolveMerger(config.merger, importFn),\n    ]);\n    return {\n        sources,\n        transforms,\n        additionalTypeDefs,\n        additionalResolvers,\n        cache,\n        merger,\n        mergerType: config.merger,\n        pubsub,\n        liveQueryInvalidations: config.liveQueryInvalidations,\n        config,\n    };\n}\nfunction customLoader(ext) {\n    function loader(filepath, content) {\n        if (typeof process !== 'undefined' && 'env' in process) {\n            content = content.replace(/\\$\\{(.*?)\\}/g, (_, variable) => {\n                let varName = variable;\n                let defaultValue = '';\n                if (variable.includes(':')) {\n                    const spl = variable.split(':');\n                    varName = spl.shift();\n                    defaultValue = spl.join(':');\n                }\n                return process.env[varName] || defaultValue;\n            });\n        }\n        if (ext === 'json') {\n            return defaultLoaders['.json'](filepath, content);\n        }\n        if (ext === 'yaml') {\n            return defaultLoaders['.yaml'](filepath, content);\n        }\n        if (ext === 'js') {\n            return defaultLoaders['.js'](filepath, content);\n        }\n    }\n    return loader;\n}\nexport function validateConfig(config) {\n    const ajv = new Ajv({\n        strict: false,\n    });\n    const jsonSchema = getJsonSchema();\n    jsonSchema.$schema = undefined;\n    const isValid = ajv.validate(jsonSchema, config);\n    if (!isValid) {\n        console.warn(`GraphQL Mesh Configuration is not valid:\\n${ajv.errorsText()}`);\n    }\n}\nexport async function findAndParseConfig(options) {\n    const { configName = 'mesh', dir: configDir = '', ignoreAdditionalResolvers = false } = options || {};\n    const dir = isAbsolute(configDir) ? configDir : join(process.cwd(), configDir);\n    const explorer = cosmiconfig(configName, {\n        loaders: {\n            '.json': customLoader('json'),\n            '.yaml': customLoader('yaml'),\n            '.yml': customLoader('yaml'),\n            '.js': customLoader('js'),\n            noExt: customLoader('yaml'),\n        },\n    });\n    const results = await explorer.search(dir);\n    if (!results) {\n        throw new Error(`No mesh config file was found in \"${dir}\"!`);\n    }\n    const config = results.config;\n    validateConfig(config);\n    return processConfig(config, { dir, ignoreAdditionalResolvers });\n}\n//# sourceMappingURL=index.js.map"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAaO,eAAe,UAAU,CAAC,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE;AACvD,IAAI,MAAM,SAAS,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC;AACtC,IAAI,MAAM,SAAS,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC;AACtC,IAAI,MAAM,aAAa,GAAG;AAC1B,QAAQ,CAAC,cAAc,EAAE,SAAS,CAAC,CAAC;AACpC,QAAQ,CAAC,cAAc,EAAE,SAAS,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC;AACjD,QAAQ,CAAC,cAAc,EAAE,SAAS,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC;AACjD,QAAQ,SAAS;AACjB,QAAQ,CAAC,EAAE,SAAS,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC;AACnC,QAAQ,CAAC,EAAE,SAAS,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC;AACnC,QAAQ,SAAS;AACjB,KAAK,CAAC;AACN,IAAI,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;AAC5B,QAAQ,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACjC,KAAK;AACL,IAAI,MAAM,eAAe,GAAG,aAAa,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC;AAC/E,IAAI,KAAK,MAAM,UAAU,IAAI,eAAe,EAAE;AAC9C,QAAQ,IAAI;AACZ,YAAY,MAAM,QAAQ,GAAG,MAAM,QAAQ,CAAC,UAAU,CAAC,CAAC;AACxD,YAAY,QAAQ,QAAQ,CAAC,OAAO,IAAI,QAAQ,CAAC,MAAM,IAAI,QAAQ,EAAE;AACrE,SAAS;AACT,QAAQ,OAAO,GAAG,EAAE;AACpB,YAAY,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,oBAAoB,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC;AAC3E,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,uBAAuB,CAAC,CAAC,EAAE;AAClE,gBAAgB,MAAM,IAAI,KAAK,CAAC,CAAC,eAAe,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,EAAE,EAAE,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;AAC3F,aAAa;AACb,SAAS;AACT,KAAK;AACL,IAAI,MAAM,IAAI,KAAK,CAAC,CAAC,eAAe,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;AAC/D,CAAC;AACM,eAAe,UAAU,CAAC,IAAI,EAAE,QAAQ,EAAE;AACjD,IAAI,MAAM,SAAS,GAAG,MAAM,UAAU,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,SAAS,EAAE,QAAQ,CAAC,CAAC;AAC7E,IAAI,OAAO,SAAS,CAAC;AACrB,CAAC;AACM,eAAe,yBAAyB,CAAC,OAAO,EAAE,kBAAkB,EAAE;AAC7E,IAAI,IAAI,kBAAkB,EAAE;AAC5B,QAAQ,MAAM,OAAO,GAAG,MAAM,YAAY,CAAC,kBAAkB,EAAE;AAC/D,YAAY,GAAG,EAAE,OAAO;AACxB,YAAY,OAAO,EAAE,CAAC,IAAI,cAAc,EAAE,EAAE,IAAI,iBAAiB,EAAE,CAAC;AACpE,SAAS,CAAC,CAAC;AACX,QAAQ,OAAO,OAAO,CAAC,GAAG,CAAC,MAAM,IAAI,MAAM,CAAC,QAAQ,IAAI,KAAK,CAAC,MAAM,CAAC,MAAM,IAAI,yBAAyB,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AAC1H,KAAK;AACL,IAAI,OAAO,SAAS,CAAC;AACrB,CAAC;AACM,eAAe,0BAA0B,CAAC,OAAO,EAAE,mBAAmB,EAAE,QAAQ,EAAE,MAAM,EAAE;AACjG,IAAI,MAAM,eAAe,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC,CAAC,mBAAmB,IAAI,EAAE,EAAE,GAAG,CAAC,OAAO,kBAAkB,KAAK;AAC5G,QAAQ,IAAI,OAAO,kBAAkB,KAAK,QAAQ,EAAE;AACpD,YAAY,MAAM,QAAQ,GAAG,kBAAkB,CAAC;AAChD,YAAY,MAAM,QAAQ,GAAG,MAAM,QAAQ,CAAC,OAAO,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC,CAAC;AACxE,YAAY,IAAI,SAAS,GAAG,IAAI,CAAC;AACjC,YAAY,IAAI,QAAQ,CAAC,OAAO,EAAE;AAClC,gBAAgB,IAAI,QAAQ,CAAC,OAAO,CAAC,SAAS,EAAE;AAChD,oBAAoB,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,SAAS,CAAC;AAC3D,iBAAiB;AACjB,qBAAqB,IAAI,OAAO,QAAQ,CAAC,OAAO,KAAK,QAAQ,EAAE;AAC/D,oBAAoB,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC;AACjD,iBAAiB;AACjB,aAAa;AACb,iBAAiB,IAAI,QAAQ,CAAC,SAAS,EAAE;AACzC,gBAAgB,SAAS,GAAG,QAAQ,CAAC,SAAS,CAAC;AAC/C,aAAa;AACb,YAAY,IAAI,CAAC,SAAS,EAAE;AAC5B,gBAAgB,OAAO,CAAC,IAAI,CAAC,CAAC,oCAAoC,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;AAChF,gBAAgB,OAAO,EAAE,CAAC;AAC1B,aAAa;AACb,YAAY,OAAO,SAAS,CAAC;AAC7B,SAAS;AACT,aAAa;AACb,YAAY,IAAI,aAAa,IAAI,kBAAkB,EAAE;AACrD,gBAAgB,OAAO;AACvB,oBAAoB,CAAC,kBAAkB,CAAC,IAAI,GAAG;AAC/C,wBAAwB,CAAC,kBAAkB,CAAC,KAAK,GAAG;AACpD,4BAA4B,SAAS,EAAE,UAAU,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,KAAK;AACjF,gCAAgC,MAAM,YAAY,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;AACnF,gCAAgC,MAAM,KAAK,GAAG,kBAAkB,CAAC,KAAK,CAAC,kBAAkB,CAAC,WAAW,EAAE,YAAY,CAAC,CAAC;AACrH,gCAAgC,OAAO,MAAM,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACnE,6BAA6B,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,KAAK;AAC9D,gCAAgC,OAAO,kBAAkB,CAAC,QAAQ,GAAG,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;AAC9G,6BAA6B,CAAC;AAC9B,4BAA4B,OAAO,EAAE,CAAC,OAAO,KAAK;AAClD,gCAAgC,IAAI,kBAAkB,CAAC,UAAU,EAAE;AACnE,oCAAoC,OAAO,GAAG,CAAC,OAAO,EAAE,kBAAkB,CAAC,UAAU,CAAC,CAAC;AACvF,iCAAiC;AACjC,gCAAgC,OAAO,OAAO,CAAC;AAC/C,6BAA6B;AAC7B,yBAAyB;AACzB,qBAAqB;AACrB,iBAAiB,CAAC;AAClB,aAAa;AACb,iBAAiB;AACjB,gBAAgB,OAAO;AACvB,oBAAoB,CAAC,kBAAkB,CAAC,IAAI,GAAG;AAC/C,wBAAwB,CAAC,kBAAkB,CAAC,KAAK,GAAG;AACpD,4BAA4B,YAAY,EAAE,kBAAkB,CAAC,oBAAoB;AACjF,4BAA4B,OAAO,EAAE,OAAO,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,KAAK;AAC1E,gCAAgC,MAAM,YAAY,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;AACnF,gCAAgC,MAAM,UAAU,GAAG,EAAE,CAAC;AACtD,gCAAgC,KAAK,MAAM,OAAO,IAAI,kBAAkB,CAAC,IAAI,EAAE;AAC/E,oCAAoC,GAAG,CAAC,UAAU,EAAE,OAAO,EAAE,kBAAkB,CAAC,KAAK,CAAC,kBAAkB,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,YAAY,CAAC,CAAC,CAAC;AACvI,iCAAiC;AACjC,gCAAgC,MAAM,MAAM,GAAG,MAAM,OAAO,CAAC,kBAAkB,CAAC,YAAY,CAAC,CAAC,GAAG,CAAC,kBAAkB,CAAC,YAAY,CAAC,CAAC,UAAU,EAAE;AAC/I,oCAAoC,cAAc,EAAE,kBAAkB,CAAC,oBAAoB;AAC3F,oCAAoC,YAAY,EAAE,kBAAkB,CAAC,kBAAkB;AACvF,oCAAoC,KAAK,EAAE,kBAAkB,CAAC,WAAW;AACzE,iCAAiC,CAAC,CAAC;AACnC,gCAAgC,OAAO,kBAAkB,CAAC,UAAU,GAAG,GAAG,CAAC,MAAM,EAAE,kBAAkB,CAAC,UAAU,CAAC,GAAG,MAAM,CAAC;AAC3H,6BAA6B;AAC7B,yBAAyB;AACzB,qBAAqB;AACrB,iBAAiB,CAAC;AAClB,aAAa;AACb,SAAS;AACT,KAAK,CAAC,CAAC,CAAC;AACR,IAAI,OAAO,cAAc,CAAC,eAAe,CAAC,CAAC;AAC3C,CAAC;AACM,eAAe,YAAY,CAAC,WAAW,EAAE,QAAQ,EAAE;AAC1D,IAAI,IAAI,WAAW,EAAE;AACrB,QAAQ,MAAM,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;AACtD,QAAQ,MAAM,MAAM,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC;AAC9C,QAAQ,MAAM,UAAU,GAAG,SAAS,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC,CAAC;AAC3D,QAAQ,MAAM,GAAG,GAAG,MAAM,UAAU,CAAC,UAAU,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC;AACpE,QAAQ,MAAM,KAAK,GAAG,GAAG,CAAC,OAAO,IAAI,GAAG,CAAC;AACzC,QAAQ,OAAO,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC;AACjC,KAAK;AACL,IAAI,MAAM,gBAAgB,GAAG,MAAM,OAAO,kCAAkC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC;AACnG,IAAI,MAAM,KAAK,GAAG,IAAI,gBAAgB,EAAE,CAAC;AACzC,IAAI,OAAO,KAAK,CAAC;AACjB,CAAC;AACM,eAAe,aAAa,CAAC,gBAAgB,EAAE,QAAQ,EAAE;AAChE,IAAI,IAAI,gBAAgB,EAAE;AAC1B,QAAQ,IAAI,UAAU,CAAC;AACvB,QAAQ,IAAI,YAAY,CAAC;AACzB,QAAQ,IAAI,OAAO,gBAAgB,KAAK,QAAQ,EAAE;AAClD,YAAY,UAAU,GAAG,gBAAgB,CAAC;AAC1C,SAAS;AACT,aAAa;AACb,YAAY,UAAU,GAAG,gBAAgB,CAAC,IAAI,CAAC;AAC/C,YAAY,YAAY,GAAG,gBAAgB,CAAC,MAAM,CAAC;AACnD,SAAS;AACT,QAAQ,MAAM,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC,CAAC;AAC5D,QAAQ,MAAM,GAAG,GAAG,MAAM,UAAU,CAAC,UAAU,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;AACrE,QAAQ,MAAM,MAAM,GAAG,GAAG,CAAC,OAAO,IAAI,GAAG,CAAC;AAC1C,QAAQ,OAAO,IAAI,MAAM,CAAC,YAAY,CAAC,CAAC;AACxC,KAAK;AACL,SAAS;AACT,QAAQ,MAAM,YAAY,GAAG,IAAI,YAAY,CAAC,EAAE,iBAAiB,EAAE,IAAI,EAAE,CAAC,CAAC;AAC3E,QAAQ,YAAY,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;AAC/C,QAAQ,MAAM,MAAM,GAAG,IAAI,MAAM,CAAC,EAAE,YAAY,EAAE,CAAC,CAAC;AACpD,QAAQ,OAAO,MAAM,CAAC;AACtB,KAAK;AACL,CAAC;AACM,eAAe,aAAa,CAAC,YAAY,EAAE,QAAQ,EAAE;AAC5D,IAAI,IAAI,YAAY,EAAE;AACtB,QAAQ,MAAM,GAAG,GAAG,MAAM,UAAU,CAAC,YAAY,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;AACvE,QAAQ,OAAO,GAAG,CAAC,OAAO,IAAI,GAAG,CAAC;AAClC,KAAK;AACL,IAAI,OAAO,eAAe,CAAC;AAC3B;;ACrKA;AACO,eAAe,WAAW,CAAC,SAAS,EAAE,OAAO,EAAE;AACtD,IAAI,IAAI,MAAM,CAAC;AACf,IAAI,MAAM,EAAE,YAAY,GAAG,QAAQ,EAAE,GAAG,EAAE,SAAS,GAAG,EAAE,EAAE,GAAG,OAAO,IAAI,EAAE,CAAC;AAC3E,IAAI,MAAM,GAAG,GAAG,UAAU,CAAC,SAAS,CAAC,GAAG,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,SAAS,CAAC,CAAC;AACnF,IAAI,QAAQ,YAAY;AACxB,QAAQ,KAAK,MAAM;AACnB,YAAY,MAAM,GAAG,cAAc,CAAC,OAAO,CAAC,CAAC,aAAa,EAAE,SAAS,CAAC,CAAC;AACvE,YAAY,MAAM;AAClB,QAAQ,KAAK,MAAM;AACnB,YAAY,MAAM,GAAG,cAAc,CAAC,OAAO,CAAC,CAAC,cAAc,EAAE,SAAS,CAAC,CAAC;AACxE,YAAY,MAAM;AAClB,QAAQ,KAAK,QAAQ;AACrB,YAAY,MAAM,GAAG,SAAS,CAAC;AAC/B,YAAY,MAAM;AAClB,KAAK;AACL,IAAI,OAAO,aAAa,CAAC,MAAM,EAAE,EAAE,GAAG,OAAO,EAAE,GAAG,EAAE,CAAC,CAAC;AACtD,CAAC;AACM,eAAe,aAAa,CAAC,MAAM,EAAE,OAAO,EAAE;AACrD,IAAI,IAAI,EAAE,EAAE,EAAE,CAAC;AACf,IAAI,MAAM,EAAE,GAAG,EAAE,yBAAyB,GAAG,KAAK,EAAE,QAAQ,GAAG,CAAC,QAAQ,KAAK,OAAO,QAAQ,CAAC,EAAE,GAAG,OAAO,IAAI,EAAE,CAAC;AAChH,IAAI,MAAM,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,MAAM,CAAC,OAAO,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,GAAG,IAAI,QAAQ,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC;AACvH,IAAI,MAAM,KAAK,GAAG,MAAM,YAAY,CAAC,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;AAC7D,IAAI,MAAM,MAAM,GAAG,MAAM,aAAa,CAAC,MAAM,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;AAChE,IAAI,MAAM,CAAC,OAAO,EAAE,UAAU,EAAE,kBAAkB,EAAE,mBAAmB,EAAE,MAAM,CAAC,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC;AACrG,QAAQ,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,MAAM,KAAK;AACzD,YAAY,MAAM,WAAW,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;AAC/D,YAAY,MAAM,aAAa,GAAG,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;AAC9D,YAAY,MAAM,CAAC,cAAc,EAAE,UAAU,CAAC,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC;AACnE,gBAAgB,UAAU,CAAC,WAAW,EAAE,QAAQ,CAAC;AACjD,gBAAgB,OAAO,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,UAAU,IAAI,EAAE,EAAE,GAAG,CAAC,OAAO,CAAC,KAAK;AACvE,oBAAoB,MAAM,aAAa,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5D,oBAAoB,MAAM,eAAe,GAAG,CAAC,CAAC,aAAa,CAAC,CAAC;AAC7D,oBAAoB,MAAM,aAAa,GAAG,MAAM,UAAU,CAAC,aAAa,CAAC,QAAQ,EAAE,EAAE,WAAW,EAAE,QAAQ,CAAC,CAAC;AAC5G,oBAAoB,OAAO,IAAI,aAAa,CAAC;AAC7C,wBAAwB,OAAO,EAAE,MAAM,CAAC,IAAI;AAC5C,wBAAwB,MAAM,EAAE,eAAe;AAC/C,wBAAwB,OAAO,EAAE,GAAG;AACpC,wBAAwB,KAAK;AAC7B,wBAAwB,MAAM;AAC9B,qBAAqB,CAAC,CAAC;AACvB,iBAAiB,CAAC,CAAC;AACnB,aAAa,CAAC,CAAC;AACf,YAAY,MAAM,WAAW,GAAG,cAAc,CAAC;AAC/C,YAAY,OAAO;AACnB,gBAAgB,IAAI,EAAE,MAAM,CAAC,IAAI;AACjC,gBAAgB,OAAO,EAAE,IAAI,WAAW,CAAC;AACzC,oBAAoB,IAAI,EAAE,MAAM,CAAC,IAAI;AACrC,oBAAoB,MAAM,EAAE,aAAa;AACzC,oBAAoB,OAAO,EAAE,GAAG;AAChC,oBAAoB,KAAK;AACzB,oBAAoB,MAAM;AAC1B,iBAAiB,CAAC;AAClB,gBAAgB,UAAU;AAC1B,aAAa,CAAC;AACd,SAAS,CAAC,CAAC;AACX,QAAQ,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,MAAM,CAAC,UAAU,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK;AACvG,YAAY,MAAM,aAAa,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACpD,YAAY,MAAM,eAAe,GAAG,CAAC,CAAC,aAAa,CAAC,CAAC;AACrD,YAAY,MAAM,gBAAgB,GAAG,MAAM,UAAU,CAAC,aAAa,CAAC,QAAQ,EAAE,EAAE,WAAW,EAAE,QAAQ,CAAC,CAAC;AACvG,YAAY,OAAO,IAAI,gBAAgB,CAAC;AACxC,gBAAgB,OAAO,EAAE,EAAE;AAC3B,gBAAgB,MAAM,EAAE,eAAe;AACvC,gBAAgB,OAAO,EAAE,GAAG;AAC5B,gBAAgB,KAAK;AACrB,gBAAgB,MAAM;AACtB,aAAa,CAAC,CAAC;AACf,SAAS,CAAC,KAAK,EAAE,CAAC;AAClB,QAAQ,yBAAyB,CAAC,GAAG,EAAE,MAAM,CAAC,kBAAkB,CAAC;AACjE,QAAQ,0BAA0B,CAAC,GAAG,EAAE,yBAAyB,GAAG,EAAE,GAAG,MAAM,CAAC,mBAAmB,IAAI,EAAE,EAAE,QAAQ,EAAE,MAAM,CAAC;AAC5H,QAAQ,aAAa,CAAC,MAAM,CAAC,MAAM,EAAE,QAAQ,CAAC;AAC9C,KAAK,CAAC,CAAC;AACP,IAAI,OAAO;AACX,QAAQ,OAAO;AACf,QAAQ,UAAU;AAClB,QAAQ,kBAAkB;AAC1B,QAAQ,mBAAmB;AAC3B,QAAQ,KAAK;AACb,QAAQ,MAAM;AACd,QAAQ,UAAU,EAAE,MAAM,CAAC,MAAM;AACjC,QAAQ,MAAM;AACd,QAAQ,sBAAsB,EAAE,MAAM,CAAC,sBAAsB;AAC7D,QAAQ,MAAM;AACd,KAAK,CAAC;AACN,CAAC;AACD,SAAS,YAAY,CAAC,GAAG,EAAE;AAC3B,IAAI,SAAS,MAAM,CAAC,QAAQ,EAAE,OAAO,EAAE;AACvC,QAAQ,IAAI,OAAO,OAAO,KAAK,WAAW,IAAI,KAAK,IAAI,OAAO,EAAE;AAChE,YAAY,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC,CAAC,EAAE,QAAQ,KAAK;AACvE,gBAAgB,IAAI,OAAO,GAAG,QAAQ,CAAC;AACvC,gBAAgB,IAAI,YAAY,GAAG,EAAE,CAAC;AACtC,gBAAgB,IAAI,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;AAC5C,oBAAoB,MAAM,GAAG,GAAG,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AACpD,oBAAoB,OAAO,GAAG,GAAG,CAAC,KAAK,EAAE,CAAC;AAC1C,oBAAoB,YAAY,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACjD,iBAAiB;AACjB,gBAAgB,OAAO,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,YAAY,CAAC;AAC5D,aAAa,CAAC,CAAC;AACf,SAAS;AACT,QAAQ,IAAI,GAAG,KAAK,MAAM,EAAE;AAC5B,YAAY,OAAO,cAAc,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;AAC9D,SAAS;AACT,QAAQ,IAAI,GAAG,KAAK,MAAM,EAAE;AAC5B,YAAY,OAAO,cAAc,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;AAC9D,SAAS;AACT,QAAQ,IAAI,GAAG,KAAK,IAAI,EAAE;AAC1B,YAAY,OAAO,cAAc,CAAC,KAAK,CAAC,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;AAC5D,SAAS;AACT,KAAK;AACL,IAAI,OAAO,MAAM,CAAC;AAClB,CAAC;AACM,SAAS,cAAc,CAAC,MAAM,EAAE;AACvC,IAAI,MAAM,GAAG,GAAG,IAAI,GAAG,CAAC;AACxB,QAAQ,MAAM,EAAE,KAAK;AACrB,KAAK,CAAC,CAAC;AACP,IAAI,MAAM,UAAU,GAAG,aAAa,EAAE,CAAC;AACvC,IAAI,UAAU,CAAC,OAAO,GAAG,SAAS,CAAC;AACnC,IAAI,MAAM,OAAO,GAAG,GAAG,CAAC,QAAQ,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;AACrD,IAAI,IAAI,CAAC,OAAO,EAAE;AAClB,QAAQ,OAAO,CAAC,IAAI,CAAC,CAAC,0CAA0C,EAAE,GAAG,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC,CAAC;AACtF,KAAK;AACL,CAAC;AACM,eAAe,kBAAkB,CAAC,OAAO,EAAE;AAClD,IAAI,MAAM,EAAE,UAAU,GAAG,MAAM,EAAE,GAAG,EAAE,SAAS,GAAG,EAAE,EAAE,yBAAyB,GAAG,KAAK,EAAE,GAAG,OAAO,IAAI,EAAE,CAAC;AAC1G,IAAI,MAAM,GAAG,GAAG,UAAU,CAAC,SAAS,CAAC,GAAG,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,SAAS,CAAC,CAAC;AACnF,IAAI,MAAM,QAAQ,GAAG,WAAW,CAAC,UAAU,EAAE;AAC7C,QAAQ,OAAO,EAAE;AACjB,YAAY,OAAO,EAAE,YAAY,CAAC,MAAM,CAAC;AACzC,YAAY,OAAO,EAAE,YAAY,CAAC,MAAM,CAAC;AACzC,YAAY,MAAM,EAAE,YAAY,CAAC,MAAM,CAAC;AACxC,YAAY,KAAK,EAAE,YAAY,CAAC,IAAI,CAAC;AACrC,YAAY,KAAK,EAAE,YAAY,CAAC,MAAM,CAAC;AACvC,SAAS;AACT,KAAK,CAAC,CAAC;AACP,IAAI,MAAM,OAAO,GAAG,MAAM,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AAC/C,IAAI,IAAI,CAAC,OAAO,EAAE;AAClB,QAAQ,MAAM,IAAI,KAAK,CAAC,CAAC,kCAAkC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;AACtE,KAAK;AACL,IAAI,MAAM,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;AAClC,IAAI,cAAc,CAAC,MAAM,CAAC,CAAC;AAC3B,IAAI,OAAO,aAAa,CAAC,MAAM,EAAE,EAAE,GAAG,EAAE,yBAAyB,EAAE,CAAC,CAAC;AACrE;;;;"}
\ No newline at end of file
+{"version":3,"file":"index.esm.js","sources":["../../../dist/config/src/utils.js","../../../dist/config/src/index.js"],"sourcesContent":["import { parse } from 'graphql';\nimport { resolve } from 'path';\nimport { getResponseKeyFromInfo, printSchemaWithDirectives } from '@graphql-tools/utils';\nimport { paramCase } from 'param-case';\nimport { loadTypedefs } from '@graphql-tools/load';\nimport { GraphQLFileLoader } from '@graphql-tools/graphql-file-loader';\nimport { get, set, kebabCase } from 'lodash';\nimport { stringInterpolator } from '@graphql-mesh/utils';\nimport { mergeResolvers } from '@graphql-tools/merge';\nimport { PubSub, withFilter } from 'graphql-subscriptions';\nimport { EventEmitter } from 'events';\nimport { CodeFileLoader } from '@graphql-tools/code-file-loader';\nimport StitchingMerger from '@graphql-mesh/merger-stitching';\nimport { getSubschema, getUnpathedErrors, isExternalObject, resolveExternalValue } from '@graphql-tools/delegate';\nexport async function getPackage(name, type, importFn) {\n    const casedName = paramCase(name);\n    const casedType = paramCase(type);\n    const possibleNames = [\n        `@graphql-mesh/${casedName}`,\n        `@graphql-mesh/${casedName}-${casedType}`,\n        `@graphql-mesh/${casedType}-${casedName}`,\n        casedName,\n        `${casedName}-${casedType}`,\n        `${casedType}-${casedName}`,\n        casedType,\n    ];\n    if (name.includes('-')) {\n        possibleNames.push(name);\n    }\n    const possibleModules = possibleNames.concat(resolve(process.cwd(), name));\n    for (const moduleName of possibleModules) {\n        try {\n            const exported = await importFn(moduleName);\n            return (exported.default || exported.parser || exported);\n        }\n        catch (err) {\n            if (!err.message.includes(`Cannot find module '${moduleName}'`) &&\n                !err.message.includes(`Could not locate module`)) {\n                throw new Error(`Unable to load ${type} matching ${name}: ${err.message}`);\n            }\n        }\n    }\n    throw new Error(`Unable to find ${type} matching ${name}`);\n}\nexport async function getHandler(name, importFn) {\n    const handlerFn = await getPackage(name.toString(), 'handler', importFn);\n    return handlerFn;\n}\nexport async function resolveAdditionalTypeDefs(baseDir, additionalTypeDefs) {\n    if (additionalTypeDefs) {\n        const sources = await loadTypedefs(additionalTypeDefs, {\n            cwd: baseDir,\n            loaders: [new CodeFileLoader(), new GraphQLFileLoader()],\n        });\n        return sources.map(source => source.document || parse(source.rawSDL || printSchemaWithDirectives(source.schema)));\n    }\n    return undefined;\n}\nexport async function resolveAdditionalResolvers(baseDir, additionalResolvers, importFn, pubsub) {\n    const loadedResolvers = await Promise.all((additionalResolvers || []).map(async (additionalResolver) => {\n        if (typeof additionalResolver === 'string') {\n            const filePath = additionalResolver;\n            const exported = await importFn(resolve(baseDir, filePath));\n            let resolvers = null;\n            if (exported.default) {\n                if (exported.default.resolvers) {\n                    resolvers = exported.default.resolvers;\n                }\n                else if (typeof exported.default === 'object') {\n                    resolvers = exported.default;\n                }\n            }\n            else if (exported.resolvers) {\n                resolvers = exported.resolvers;\n            }\n            if (!resolvers) {\n                console.warn(`Unable to load resolvers from file: ${filePath}`);\n                return {};\n            }\n            return resolvers;\n        }\n        else {\n            if ('pubsubTopic' in additionalResolver) {\n                return {\n                    [additionalResolver.type]: {\n                        [additionalResolver.field]: {\n                            subscribe: withFilter((root, args, context, info) => {\n                                const resolverData = { root, args, context, info };\n                                const topic = stringInterpolator.parse(additionalResolver.pubsubTopic, resolverData);\n                                return pubsub.asyncIterator(topic);\n                            }, (root, args, context, info) => {\n                                return additionalResolver.filterBy ? eval(additionalResolver.filterBy) : true;\n                            }),\n                            resolve: (payload, args, context, info) => {\n                                const resolverArgs = { returnData: additionalResolver.returnData };\n                                return resolveReturnData(payload, resolverArgs, context, info);\n                            },\n                        },\n                    },\n                };\n            }\n            else {\n                return {\n                    [additionalResolver.type]: {\n                        [additionalResolver.field]: {\n                            selectionSet: additionalResolver.requiredSelectionSet,\n                            resolve: async (root, args, context, info) => {\n                                const resolverData = { root, args, context, info };\n                                const methodArgs = {};\n                                for (const argPath in additionalResolver.args) {\n                                    set(methodArgs, argPath, stringInterpolator.parse(additionalResolver.args[argPath], resolverData));\n                                }\n                                const result = await context[additionalResolver.targetSource].api[additionalResolver.targetMethod](methodArgs, {\n                                    selectedFields: additionalResolver.resultSelectedFields,\n                                    selectionSet: additionalResolver.resultSelectionSet,\n                                    depth: additionalResolver.resultDepth,\n                                });\n                                const resolverArgs = { returnData: additionalResolver.returnData };\n                                return resolveReturnData(result, resolverArgs, context, info);\n                            },\n                        },\n                    },\n                };\n            }\n        }\n    }));\n    return mergeResolvers(loadedResolvers);\n}\nfunction resolveReturnData(source, args, context, info) {\n    const result = source instanceof Error || !args.returnData ? source : get(source, args.returnData);\n    if (!isExternalObject(source) || isExternalObject(result))\n        return result;\n    const errors = getUnpathedErrors(source);\n    const responseKey = getResponseKeyFromInfo(info);\n    const subschema = getSubschema(source, responseKey);\n    return resolveExternalValue(result, errors, subschema, context, info);\n}\nexport async function resolveCache(cacheConfig, importFn) {\n    if (cacheConfig) {\n        const cacheName = Object.keys(cacheConfig)[0];\n        const config = cacheConfig[cacheName];\n        const moduleName = kebabCase(cacheName.toString());\n        const pkg = await getPackage(moduleName, 'cache', importFn);\n        const Cache = pkg.default || pkg;\n        return new Cache(config);\n    }\n    const InMemoryLRUCache = await import('@graphql-mesh/cache-inmemory-lru').then(m => m.default);\n    const cache = new InMemoryLRUCache();\n    return cache;\n}\nexport async function resolvePubSub(pubsubYamlConfig, importFn) {\n    if (pubsubYamlConfig) {\n        let pubsubName;\n        let pubsubConfig;\n        if (typeof pubsubYamlConfig === 'string') {\n            pubsubName = pubsubYamlConfig;\n        }\n        else {\n            pubsubName = pubsubYamlConfig.name;\n            pubsubConfig = pubsubYamlConfig.config;\n        }\n        const moduleName = kebabCase(pubsubName.toString());\n        const pkg = await getPackage(moduleName, 'pubsub', importFn);\n        const PubSub = pkg.default || pkg;\n        return new PubSub(pubsubConfig);\n    }\n    else {\n        const eventEmitter = new EventEmitter({ captureRejections: true });\n        eventEmitter.setMaxListeners(Infinity);\n        const pubsub = new PubSub({ eventEmitter });\n        return pubsub;\n    }\n}\nexport async function resolveMerger(mergerConfig, importFn) {\n    if (mergerConfig) {\n        const pkg = await getPackage(mergerConfig, 'merger', importFn);\n        return pkg.default || pkg;\n    }\n    return StitchingMerger;\n}\n//# sourceMappingURL=utils.js.map","import { isAbsolute, join } from 'path';\nimport { getJsonSchema, } from '@graphql-mesh/types';\nimport Ajv from 'ajv';\nimport { cosmiconfig, defaultLoaders } from 'cosmiconfig';\nimport { getHandler, getPackage, resolveAdditionalResolvers, resolveAdditionalTypeDefs, resolveCache, resolveMerger, resolvePubSub, } from './utils';\n// TODO: deprecate this in next major release as dscussed in #1687\nexport async function parseConfig(rawConfig, options) {\n    let config;\n    const { configFormat = 'object', dir: configDir = '' } = options || {};\n    const dir = isAbsolute(configDir) ? configDir : join(process.cwd(), configDir);\n    switch (configFormat) {\n        case 'yaml':\n            config = defaultLoaders['.yaml']('.meshrc.yml', rawConfig);\n            break;\n        case 'json':\n            config = defaultLoaders['.json']('.meshrc.json', rawConfig);\n            break;\n        case 'object':\n            config = rawConfig;\n            break;\n    }\n    return processConfig(config, { ...options, dir });\n}\nexport async function processConfig(config, options) {\n    var _a, _b;\n    const { dir, ignoreAdditionalResolvers = false, importFn = (moduleId) => import(moduleId) } = options || {};\n    await Promise.all(((_a = config.require) === null || _a === void 0 ? void 0 : _a.map(mod => importFn(mod))) || []);\n    const cache = await resolveCache(config.cache, importFn);\n    const pubsub = await resolvePubSub(config.pubsub, importFn);\n    const [sources, transforms, additionalTypeDefs, additionalResolvers, merger] = await Promise.all([\n        Promise.all(config.sources.map(async (source) => {\n            const handlerName = Object.keys(source.handler)[0];\n            const handlerConfig = source.handler[handlerName];\n            const [handlerLibrary, transforms] = await Promise.all([\n                getHandler(handlerName, importFn),\n                Promise.all((source.transforms || []).map(async (t) => {\n                    const transformName = Object.keys(t)[0];\n                    const transformConfig = t[transformName];\n                    const TransformCtor = await getPackage(transformName.toString(), 'transform', importFn);\n                    return new TransformCtor({\n                        apiName: source.name,\n                        config: transformConfig,\n                        baseDir: dir,\n                        cache,\n                        pubsub,\n                    });\n                })),\n            ]);\n            const HandlerCtor = handlerLibrary;\n            return {\n                name: source.name,\n                handler: new HandlerCtor({\n                    name: source.name,\n                    config: handlerConfig,\n                    baseDir: dir,\n                    cache,\n                    pubsub,\n                }),\n                transforms,\n            };\n        })),\n        Promise.all(((_b = config.transforms) === null || _b === void 0 ? void 0 : _b.map(async (t) => {\n            const transformName = Object.keys(t)[0];\n            const transformConfig = t[transformName];\n            const TransformLibrary = await getPackage(transformName.toString(), 'transform', importFn);\n            return new TransformLibrary({\n                apiName: '',\n                config: transformConfig,\n                baseDir: dir,\n                cache,\n                pubsub,\n            });\n        })) || []),\n        resolveAdditionalTypeDefs(dir, config.additionalTypeDefs),\n        resolveAdditionalResolvers(dir, ignoreAdditionalResolvers ? [] : config.additionalResolvers || [], importFn, pubsub),\n        resolveMerger(config.merger, importFn),\n    ]);\n    return {\n        sources,\n        transforms,\n        additionalTypeDefs,\n        additionalResolvers,\n        cache,\n        merger,\n        mergerType: config.merger,\n        pubsub,\n        liveQueryInvalidations: config.liveQueryInvalidations,\n        config,\n    };\n}\nfunction customLoader(ext) {\n    function loader(filepath, content) {\n        if (typeof process !== 'undefined' && 'env' in process) {\n            content = content.replace(/\\$\\{(.*?)\\}/g, (_, variable) => {\n                let varName = variable;\n                let defaultValue = '';\n                if (variable.includes(':')) {\n                    const spl = variable.split(':');\n                    varName = spl.shift();\n                    defaultValue = spl.join(':');\n                }\n                return process.env[varName] || defaultValue;\n            });\n        }\n        if (ext === 'json') {\n            return defaultLoaders['.json'](filepath, content);\n        }\n        if (ext === 'yaml') {\n            return defaultLoaders['.yaml'](filepath, content);\n        }\n        if (ext === 'js') {\n            return defaultLoaders['.js'](filepath, content);\n        }\n    }\n    return loader;\n}\nexport function validateConfig(config) {\n    const ajv = new Ajv({\n        strict: false,\n    });\n    const jsonSchema = getJsonSchema();\n    jsonSchema.$schema = undefined;\n    const isValid = ajv.validate(jsonSchema, config);\n    if (!isValid) {\n        console.warn(`GraphQL Mesh Configuration is not valid:\\n${ajv.errorsText()}`);\n    }\n}\nexport async function findAndParseConfig(options) {\n    const { configName = 'mesh', dir: configDir = '', ignoreAdditionalResolvers = false } = options || {};\n    const dir = isAbsolute(configDir) ? configDir : join(process.cwd(), configDir);\n    const explorer = cosmiconfig(configName, {\n        loaders: {\n            '.json': customLoader('json'),\n            '.yaml': customLoader('yaml'),\n            '.yml': customLoader('yaml'),\n            '.js': customLoader('js'),\n            noExt: customLoader('yaml'),\n        },\n    });\n    const results = await explorer.search(dir);\n    if (!results) {\n        throw new Error(`No mesh config file was found in \"${dir}\"!`);\n    }\n    const config = results.config;\n    validateConfig(config);\n    return processConfig(config, { dir, ignoreAdditionalResolvers });\n}\n//# sourceMappingURL=index.js.map"],"names":[],"mappings":"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"}
\ No newline at end of file
